(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74a64ddc"],{"029e":function(t,e,a){},"9a54":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"PlayMvDetails-container"}},[a("div",{staticClass:"base_l"},[a("span",{staticClass:"title"},[t._v(t._s(t.mvData.name))]),a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.toSingerDetail(t.mvData)}}},[t._v(t._s(t.mvData.artistName))]),a("div",{staticClass:"mv_video"},[a("video",{ref:"video",attrs:{src:t.MvUrl,controls:""}}),a("div",{staticClass:"video_btn"},[a("a-button",[a("a-icon",{attrs:{type:"like"}}),t._v(" 赞(无) ")],1),a("a-button",[a("a-icon",{attrs:{type:"folder-add"}}),t._v(" 收藏("+t._s(t.mvData.subCount?t.mvData.subCount:"0")+") ")],1),a("a-button",[a("a-icon",{attrs:{type:"share-alt"}}),t._v(" 分享("+t._s(t.mvData.shareCount?t.mvData.shareCount:"0")+") ")],1),a("a-button",[a("a-icon",{attrs:{type:"download"}}),t._v(" 下载MV ")],1)],1)]),a("div",{staticClass:"comment_content"},[a("div",{staticClass:"publish_content"},[a("p",[t._v("评论(已有"+t._s(t.total)+"条评论)")]),a("a-textarea",{attrs:{placeholder:"输入评论内容...","auto-size":{minRows:2,maxRows:6}},model:{value:t.rightCommentData.content,callback:function(e){t.$set(t.rightCommentData,"content",e)},expression:"rightCommentData.content"}}),a("a-button",{staticStyle:{width:"100px","margin-top":"10px"},attrs:{type:"primary"},on:{click:t.rightComment}},[t._v(" 发表 ")])],1),t.hotComment.length>0?a("p",{staticClass:"title"},[t._v("精彩评论")]):t._e(),t._l(t.hotComment,(function(e){return a("div",{key:e.id,staticClass:"comment_list"},[a("img",{attrs:{src:e.user.avatarUrl,alt:"加载失败"}}),a("div",{staticClass:"comment_text"},[a("div",[a("span",{staticStyle:{cursor:"pointer",color:"cornflowerblue"},attrs:{title:"查看用户"},on:{click:function(a){return t.toUserDetail(e)}}},[t._v(t._s(e.user.nickname)+"：")]),a("span",[t._v(t._s(e.content))])]),a("div",{staticClass:"text_bottom"},[a("span",[t._v(t._s(t._f("dateFormatIn")(e.time)))]),a("div",{staticClass:"bottom_btn"},[a("span",{staticClass:"like",class:[!0===e.liked?"red":""],attrs:{title:!0===e.liked?"取消点赞":"点赞"},on:{click:function(a){return t.likeMusicComment(e)}}},[a("a-icon",{attrs:{type:"like"}}),t._v(" "+t._s(e.likedCount))],1),a("span",[t._v("评论")]),a("span",[t._v("分享")])])])])])})),t.hotComment.length>0?a("hr"):t._e(),t.allComment.length>0?a("p",{staticClass:"title"},[t._v("最新评论")]):t._e(),t._l(t.allComment,(function(e){return a("div",{key:e.id,staticClass:"comment_list"},[a("img",{attrs:{src:e.user.avatarUrl,alt:"加载失败"}}),a("div",{staticClass:"comment_text"},[a("div",[a("span",{staticStyle:{cursor:"pointer",color:"cornflowerblue"},attrs:{title:"查看用户"},on:{click:function(a){return t.toUserDetail(e)}}},[t._v(t._s(e.user.nickname)+"：")]),a("span",[t._v(t._s(e.content))])]),a("div",{staticClass:"text_bottom"},[a("span",[t._v(t._s(t._f("dateFormatIn")(e.time)))]),a("div",{staticClass:"bottom_btn"},[a("span",{staticClass:"like",class:[!0===e.liked?"red":""],attrs:{title:!0===e.liked?"取消点赞":"点赞"},on:{click:function(a){return t.likeMusicComment(e)}}},[a("a-icon",{attrs:{type:"like"}}),t._v(" "+t._s(e.likedCount)+" ")],1),a("span",[t._v("评论")]),a("span",[t._v("分享")])])])])])}))],2)]),a("div",{staticClass:"base_r"},[t._m(0),a("div",{staticClass:"mv_content"},[a("span",[t._v("发布时间："+t._s(t.mvData.publishTime?t.mvData.publishTime:"2000-01-01"))]),a("span",[t._v("播放次数："+t._s(t.mvData.playCount?t.mvData.playCount:"0")+"次")])]),a("div",{staticClass:"mv_desc"},[a("span",[t._v("简介："+t._s(t.mvData.desc?t.mvData.desc:"无"))])]),t._m(1)])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"r_header"},[a("span",[t._v("MV介绍")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"r_header"},[a("span",[t._v("相关推荐")])])}],i=a("15a9"),r=a("d922"),o=a("cc49"),c=a("7736"),m={name:"MvDetails",data:function(){return{playData:{r:"1080",id:""},comment:{id:"",limit:"20"},rightCommentData:{t:1,type:0,id:"",content:"",commentId:""},allComment:[],hotComment:[],total:"",MvUrl:"",mvData:{}}},created:function(){this.getMvUrl(),this.getMvData(),this.getMvCommentList()},methods:Object(i["a"])(Object(i["a"])({},Object(c["b"])(["playBtnAction"])),{},{getMvUrl:function(){var t=this;this.playData.id=this.$route.query["id"],Object(r["c"])(this.playData).then((function(e){t.MvUrl=e.data.url}))},getMvData:function(){var t=this;Object(r["b"])(this.$route.query["id"]).then((function(e){t.mvData=e.data}))},rightComment:function(){var t=this;this.rightCommentData.t=1,this.rightCommentData.id=this.$route.query.id,this.rightCommentData.commentId="",Object(o["d"])(this.rightCommentData).then((function(e){t.$message.success("评论成功"),t.rightCommentData.content="",t.getMusicCommentList(t.$route.query.id)}))},getMvCommentList:function(){var t=this;this.comment.id=this.$route.query["id"],Object(o["b"])(this.comment).then((function(e){t.total=e.total,t.hotComment=e.hotComments,t.allComment=e.comments}))},toSingerDetail:function(t){this.$router.push({name:"SingerDetails",query:{id:t.artistId}})},toUserDetail:function(t){this.$router.push({path:"/UserDetails",query:{userId:t.user.userId}})},likeMusicComment:function(){this.$message.error("待完善")}})},l=m,u=(a("ab36"),a("5d22")),d=Object(u["a"])(l,n,s,!1,null,null,null);e["default"]=d.exports},ab36:function(t,e,a){"use strict";a("029e")},cc49:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"d",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"b",(function(){return o}));var n=a("b775");function s(t){return Object(n["a"])({url:"/comment/music",method:"GET",params:t})}function i(t){return Object(n["a"])({url:"/comment",method:"GET",params:t})}function r(t){return Object(n["a"])({url:"/comment/like",method:"GET",params:t})}function o(t){return Object(n["a"])({url:"/comment/mv",method:"GET",params:t})}},d922:function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"b",(function(){return i})),a.d(e,"d",(function(){return r})),a.d(e,"a",(function(){return o}));var n=a("b775");function s(t){return Object(n["a"])({url:"/mv/url",method:"GET",params:t})}function i(t){return Object(n["a"])({url:"/mv/detail",method:"GET",params:{mvid:t}})}function r(){return Object(n["a"])({url:"/personalized/mv",method:"GET"})}function o(t){return Object(n["a"])({url:"/mv/first",method:"GET",params:t})}}}]);